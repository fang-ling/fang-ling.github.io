<!DOCTYPE html>
<html lang='en'><head><meta charset='UTF-8'><meta content='width=device-width initial-scale=1' name='viewport'><link href='https://fonts.googleapis.com/css?family=Gentium+Book+Basic:400,700italic,700,400italic:latin' type='text/css' rel='stylesheet'><link href='https://cdn.jsdelivr.net/npm/lxgw-wenkai-tc-webfont@1.2.0/style.css' rel='stylesheet' type='text/css'><link rel='stylesheet' href='style.css' type='text/css'><title>B-Trees</title><!--Custom head-->
<link rel="icon" type="image/png" href="images/apple-touch-icon.png">
<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon-180x180.png">
<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$']],
    displayMath: [['$$', '$$']],
    macros: {      phi:"\\varphi"    }
  }
};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script></head><body><h1 class='title-text'><strong>B-Trees</strong></h1><div class='purplebox head-box'>Undergraduate&nbsp;&nbsp;&bull;&nbsp;&nbsp;Guitar Player&nbsp;&nbsp;&bull;&nbsp;&nbsp;<a href='gear.html'>Gear</a>&nbsp;&nbsp;&bull;&nbsp;&nbsp;<a href='https://github.com/fang-ling'>GitHub</a></div><div class='page-container'><p>A B-tree $T$ is a rooted tree having the following properties:</p>
<ol>
<li>All leaves have the same depth, which is the tree's height $h$.</li>
<li>For any non leaf node, the number of children is one greater than the number of keys in that node.</li>
<li>Nodes have lower and upper bounds on the number of keys they can contain. We express these bounds in terms of a fixed integer $t\geq2$ called the minimum degree of the B-tree:
<ol>
<li>Every node other than the root must have at least $t-1$ keys. Every internal node other than the root thus has at least $t$ children. If the tree is nonempty, the root must have at least one key.</li>
<li>Every node may contain at most $2t-1$ keys. Therefore, an internal node may have at most $2t$ children. We say that a node is full if it contains exactly $2t-1$ keys.</li>
</ol>
</li>
</ol>
<p>The keys in a B-tree are sorted in a similar fashion to BSTs. Consider a node $x$ with $c$ children. Let's say that $x$ has keys $k1&lt;k2&lt;...&lt;k_c$.</p>
<h2>Searching a B-tree</h2>
<p>Searching a B-tree is much like searching a binary search tree, except that instead of making a binary branching decision at each node, we make a multiway branching decision according to the number of the node's children.</p>
<p>The following figure demonstrates the procedure for finding the key $47$ in a B-tree.</p>
<p><img src="images/b-trees-1.webp" alt="" /></p>
<h2>Inserting a key into a B-tree</h2>
<blockquote>
<p>As with binary search trees, we search for the leaf position at which to insert the new key. With a B-tree, however, we cannot simply create a new leaf node and insert it, as the resulting tree would fail to be a valid B-tree. Instead, we insert the new key into an existing leaf node. Since we cannot insert a key into a lead node that is full, we introduce an operation that splits a full node <code>y</code> (having $2t-1$ keys) around its median key <code>y.key[t]</code> into two nodes having only $t-1$ keys each. The median key movies up into <code>y</code>'s parent to identify the dividing point between the two new trees. But if <code>y</code>'s parent is also full, we must split it before we can insert the new key, and thus we could end up splitting full nodes all the way up the tree.</p>
</blockquote>
<p>The next graph shows the results of inserting the keys <code>F, S, Q, K, C, L, H, T, V, W, M, R, N, P, A, B, X, Y, D, Z, E</code> in order into an empty B-tree with minimum degree $2$.</p>
<p><img src="images/b-trees-2.svg" alt="" />
<img src="images/b-trees-3.svg" alt="" />
<img src="images/b-trees-4.svg" alt="" />
<img src="images/b-trees-5.svg" alt="" />
<img src="images/b-trees-6.svg" alt="" />
Inserting <code>A</code>, <code>B</code>, <code>X</code>.
<img src="images/b-trees-7.svg" alt="" />
<img src="images/b-trees-8.svg" alt="" />
<img src="images/b-trees-9.svg" alt="" />
Inserting <code>Z</code>, <code>E</code>.
<img src="images/b-trees-10.svg" alt="" /></p>
</div><div class='purplebox foot-box'><i>Last updated November 18, 2023 by <a href='index.html'>Fang Ling</a>.</i></div><br><div class='footer'>Made with ♡<a href='index.html'>by Fang Ling</a><a href='https://github.com/fang-ling/zyy'>zyy v0.1.4</a><span>Build: 249</span><br>Blog theme is highly inspired<a href='https://erikdemaine.org'>by Prof. Erik Demaine</a><p class='copyright'>© 2018-2024 Fang Ling</p></div></body></html>