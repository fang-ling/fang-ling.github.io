<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width initial-scale=1'>
<link href='https://fonts.googleapis.com/css?family=Gentium+Book+Basic:400,700italic,700,400italic:latin' rel='stylesheet' type='text/css'>
<link type='text/css' rel='stylesheet' href='style.css'>
<title>
Dynamic Programming Notes
</title>
<link rel="icon" type="image/png" href="images/apple-touch-icon.png">
<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon-180x180.png">
<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$']],
    displayMath: [['$$', '$$']]
  }
};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<link type='text/css' rel='stylesheet' href='gist-embed.css'>
</head>
<body>
<h1 class='title-text'>
<strong>
Dynamic Programming Notes
</strong>
</h1>
<div class='purplebox head-box'>
Undergraduate
&nbsp;&bull;&nbsp;
Guitar Player
&nbsp;&bull;&nbsp;
<a href='https://github.com/fang-ling'>
Github
</a>
</div>
<div class='page-container'>
<h2>1: # of distinct paths</h2>
<p>A robot starts from the top left corner $(1, 1)$ of a $M\times N$ grid. The goal of the robot is to reach right bottom $(M, N)$. At each step the robot can make one of the two choices - move one cell right, move one cell bottom. Write a function which takes $M$ and $N$ as arguments and returns the total number of paths the robot can take to reach its destination.</p>
<ul>
<li><strong>S</strong>ubproblem:
<ul>
<li>$p(i,j)=$ # of distinct paths to go to the point $(i,j)$</li>
<li>For $1\leq i\leq M$ and $1\leq j\leq N$</li>
</ul>
</li>
<li><strong>R</strong>elation:
<ul>
<li># of paths to $(i, j)$ equals # of paths to $(i - 1, j)$ plus # of paths to $(i, j - 1)$</li>
<li>$p(i,j) = p(i - 1, j) + p(i, j - 1)$</li>
</ul>
</li>
<li><strong>T</strong>opological order: Increasing $i$, Increasing $j$</li>
<li><strong>B</strong>ase case: $p(1,h) = p(k,1) = 1$</li>
<li><strong>O</strong>riginal problem: $p(M,N)$</li>
<li><strong>T</strong>ime:
<ul>
<li># subproblems: $M\times N$</li>
<li>work per subproblem: $O(1)$</li>
<li>$O(M\times N)$ running time</li>
</ul>
</li>
</ul>
<p>Related problem: <a href="https://www.luogu.com.cn/problem/P1002">Luogu P1002</a></p>
<details><summary>Solution</summary>
<div class='gist'><div class='gist-file' translate='no'><div class='gist-data'><div><div class='file my-2'><div itemprop='text' class='Box-body p-0 blob-wrapper data'><div class='js-check-bidi js-blob-code-container blob-code-content'><table class='highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file'><tbody><tr><td data-line-number='1' class='blob-num js-line-number js-code-nav-line-number js-blob-rnum'></td><td class='blob-code blob-code-inner js-file-line'>import java.io.BufferedReader;</td></tr><tr><td data-line-number='2' class='blob-num js-line-number js-code-nav-line-number js-blob-rnum'></td><td class='blob-code blob-code-inner js-file-line'>import java.io.InputStreamReader;</td></tr><tr><td data-line-number='3' class='blob-num js-line-number js-code-nav-line-number js-blob-rnum'></td><td class='blob-code blob-code-inner js-file-line'>import java.util.Arrays;</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='4'></td><td class='blob-code blob-code-inner js-file-line'>import java.util.Scanner;</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='5'></td><td class='blob-code blob-code-inner js-file-line'></></td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='6'></td><td class='blob-code blob-code-inner js-file-line'>class Main {</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='7'></td><td class='blob-code blob-code-inner js-file-line'>    static boolean is_blocked(int x_h, int y_h, int x, int y) {</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='8'></td><td class='blob-code blob-code-inner js-file-line'>        if ((x == x_h + 2 && y == y_h + 1) ||</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='9'></td><td class='blob-code blob-code-inner js-file-line'>            (x == x_h + 1 && y == y_h + 2) ||</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='10'></td><td class='blob-code blob-code-inner js-file-line'>            (x == x_h - 1 && y == y_h + 2) ||</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='11'></td><td class='blob-code blob-code-inner js-file-line'>            (x == x_h - 2 && y == y_h + 1) ||</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='12'></td><td class='blob-code blob-code-inner js-file-line'>            (x == x_h - 2 && y == y_h - 1) ||</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='13'></td><td class='blob-code blob-code-inner js-file-line'>            (x == x_h - 1 && y == y_h - 2) ||</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='14'></td><td class='blob-code blob-code-inner js-file-line'>            (x == x_h + 1 && y == y_h - 2) ||</td></tr><tr><td data-line-number='15' class='blob-num js-line-number js-code-nav-line-number js-blob-rnum'></td><td class='blob-code blob-code-inner js-file-line'>            (x == x_h + 2 && y == y_h - 1) ||</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='16'></td><td class='blob-code blob-code-inner js-file-line'>            (x == x_h && y == y_h)) { /* Horse place */</td></tr><tr><td data-line-number='17' class='blob-num js-line-number js-code-nav-line-number js-blob-rnum'></td><td class='blob-code blob-code-inner js-file-line'>            return true;</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='18'></td><td class='blob-code blob-code-inner js-file-line'>        }</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='19'></td><td class='blob-code blob-code-inner js-file-line'>        return false;</td></tr><tr><td data-line-number='20' class='blob-num js-line-number js-code-nav-line-number js-blob-rnum'></td><td class='blob-code blob-code-inner js-file-line'>    }</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='21'></td><td class='blob-code blob-code-inner js-file-line'></></td></tr><tr><td data-line-number='22' class='blob-num js-line-number js-code-nav-line-number js-blob-rnum'></td><td class='blob-code blob-code-inner js-file-line'>    public static void main(String[] args) {</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='23'></td><td class='blob-code blob-code-inner js-file-line'>        Scanner stdin =</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='24'></td><td class='blob-code blob-code-inner js-file-line'>            new Scanner(new BufferedReader(new InputStreamReader(System.in)));</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='25'></td><td class='blob-code blob-code-inner js-file-line'></></td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='26'></td><td class='blob-code blob-code-inner js-file-line'>        long[][] f = new long[21][21];</td></tr><tr><td data-line-number='27' class='blob-num js-line-number js-code-nav-line-number js-blob-rnum'></td><td class='blob-code blob-code-inner js-file-line'>        Arrays.stream(f).forEach(i -&gt; Arrays.fill(i, 0));</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='28'></td><td class='blob-code blob-code-inner js-file-line'></></td></tr><tr><td data-line-number='29' class='blob-num js-line-number js-code-nav-line-number js-blob-rnum'></td><td class='blob-code blob-code-inner js-file-line'>        int x_b = stdin.nextInt();</td></tr><tr><td data-line-number='30' class='blob-num js-line-number js-code-nav-line-number js-blob-rnum'></td><td class='blob-code blob-code-inner js-file-line'>        int y_b = stdin.nextInt();</td></tr><tr><td data-line-number='31' class='blob-num js-line-number js-code-nav-line-number js-blob-rnum'></td><td class='blob-code blob-code-inner js-file-line'>        int x_h = stdin.nextInt();</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='32'></td><td class='blob-code blob-code-inner js-file-line'>        int y_h = stdin.nextInt();</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='33'></td><td class='blob-code blob-code-inner js-file-line'></></td></tr><tr><td data-line-number='34' class='blob-num js-line-number js-code-nav-line-number js-blob-rnum'></td><td class='blob-code blob-code-inner js-file-line'>        for (int i = 0; i &lt;= x_b; i += 1) {</td></tr><tr><td data-line-number='35' class='blob-num js-line-number js-code-nav-line-number js-blob-rnum'></td><td class='blob-code blob-code-inner js-file-line'>            for (int j = 0; j &lt;= y_b; j += 1) {</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='36'></td><td class='blob-code blob-code-inner js-file-line'>                if (is_blocked(x_h, y_h, i, j)) {</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='37'></td><td class='blob-code blob-code-inner js-file-line'>                    continue;</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='38'></td><td class='blob-code blob-code-inner js-file-line'>                } else if (i == 0 && j == 0) {</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='39'></td><td class='blob-code blob-code-inner js-file-line'>                    f[0][0] = 1;</td></tr><tr><td data-line-number='40' class='blob-num js-line-number js-code-nav-line-number js-blob-rnum'></td><td class='blob-code blob-code-inner js-file-line'>                } else if (i == 0 && j &gt; 0) {</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='41'></td><td class='blob-code blob-code-inner js-file-line'>                    f[0][j] = f[0][j - 1];</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='42'></td><td class='blob-code blob-code-inner js-file-line'>                } else if (i &gt; 0 && j == 0) {</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='43'></td><td class='blob-code blob-code-inner js-file-line'>                    f[i][0] = f[i - 1][0];</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='44'></td><td class='blob-code blob-code-inner js-file-line'>                } else {</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='45'></td><td class='blob-code blob-code-inner js-file-line'>                    f[i][j] = f[i - 1][j] + f[i][j - 1];</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='46'></td><td class='blob-code blob-code-inner js-file-line'>                }</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='47'></td><td class='blob-code blob-code-inner js-file-line'>            }</td></tr><tr><td data-line-number='48' class='blob-num js-line-number js-code-nav-line-number js-blob-rnum'></td><td class='blob-code blob-code-inner js-file-line'>        }</td></tr><tr><td data-line-number='49' class='blob-num js-line-number js-code-nav-line-number js-blob-rnum'></td><td class='blob-code blob-code-inner js-file-line'></></td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='50'></td><td class='blob-code blob-code-inner js-file-line'>        System.out.println(f[x_b][y_b]);</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='51'></td><td class='blob-code blob-code-inner js-file-line'>    }</td></tr><tr><td class='blob-num js-line-number js-code-nav-line-number js-blob-rnum' data-line-number='52'></td><td class='blob-code blob-code-inner js-file-line'>}</td></tr></tbody></table></div></div></div></div></div><div class='gist-meta'>Rendered with ♡ by <a href='https://github.com/fang-ling/zyy'>zyy</a></div></div></div>
</details>
<h2>2: Longest Palindromic Subsequence</h2>
<p>Given a string  <code>s</code>, find  <em>the longest palindromic  <strong>subsequence</strong>'s length in</em>  <code>s</code>. A  <strong>subsequence</strong>  is a sequence that can be derived from another sequence by deleting some or no elements without changing the order of the remaining elements.</p>
<h3>SRTBOT:</h3>
<ul>
<li><strong>S</strong>ubproblem: $l(i,j)=$ the longest palindromic subsequence of substring $s[i ... j]$ (inclusive)</li>
<li><strong>R</strong>elation:
$$
l(i,j) = \left\{\begin{aligned} \left\{\begin{aligned}2,\quad&i==j\\2+l(i+1,j-1),\quad& \rm{otherwise}\end{aligned}\right.,\quad& s[i]==s[j]\\\max\{l(i+1,j),l(i,j-1)\},\quad& \rm{otherwise}\end{aligned}\right.
$$</li>
<li><strong>T</strong>opological order: $i=(|s|-1)\to 0$, $j=(i+1)\to (|s|-1)$</li>
<li><strong>B</strong>ase case: $l(i,i) = 1\quad(i\in [0,|s|))$</li>
<li><strong>O</strong>riginal problem: $l(0,|s|-1)$</li>
<li><strong>T</strong>ime: $O(|s|^2)\times O(1)=O(|s|^2)$</li>
</ul>
<p>Related problem: <a href="https://leetcode.com/problems/longest-palindromic-subsequence/">LeetCode 516</a></p>
<details><summary>Solution</summary>
<script src="https://gist.github.com/fang-ling/fa533002ddb7fcedbe8f77b43fb611f9.js"></script>
</details>
<h2>3: Longest Common Subsequence</h2>
<p>Given two sequences <code>A</code> and <code>B</code>, find the length of longest sequence L that is a subsequence of both <code>A</code> and <code>B</code>.</p>
<h3>SRTBOT:</h3>
<ul>
<li><strong>S</strong>ubproblem: $l(i,j)=LCS(A[i:], B[j:])$, $X[i:]$ means suffixes, $i\in [0,|A|], j\in [0, |B|]$</li>
<li><strong>R</strong>elation:
$$
l(i,j)=
\left\{\begin{aligned} 1+l(i+1,j+1),\quad& A[i]==B[j]\\\max\{l(i+1,j),l(i,j+1)\},\quad& \rm{otherwise}\end{aligned}\right.
$$</li>
<li><strong>T</strong>opological order: $i=(|A|-1)\to 0$, $j=(|B|-1)\to 0$</li>
<li><strong>B</strong>ase case: $l(|A|-1,j)=l(i,|B|-1)=0$</li>
<li><strong>O</strong>riginal problem: $l(0,0)$</li>
<li><strong>T</strong>ime: $O(|A||B|)\times O(1)=O(|A||B|)$</li>
</ul>
<p>Related problem: <a href="https://leetcode.com/problems/longest-common-subsequence/">LeetCode 1143</a></p>
<details><summary>Solution</summary>
<script src="https://gist.github.com/fang-ling/baca59ff5e50356350bcf2d6fa5448c0.js"></script>
</details>
<h2>4: Longest Increasing Subsequence (LIS)</h2>
<p>Given a array A, find length of a longest (not necessarily contiguous) subsequence of A that strictly increases.</p>
<ul>
<li>Example: $A = [10,9,2,5,3,7,101,18]$, The longest increasing subsequence is $[2,3,7,101]$, therefore the length is $4$.</li>
</ul>
<h3>SRTBOT:</h3>
<ul>
<li><strong>S</strong>ubproblem: $l(i)=$ length of longest increasing subsequence of suffix $A[i:]$ that includes $A[i]$. For $i$ in $[0, |A|]$</li>
<li><strong>R</strong>elation: $l(i)=\max\{1+l(j)|i&lt;j&lt;|A|,A[j]&gt;A[i]\}\cup\{1\}$</li>
<li><strong>T</strong>opological order: Decreasing $i$</li>
<li><strong>B</strong>ase case: No base case necessary, because we consider the possibility that $A[i]$ is last</li>
<li><strong>O</strong>riginal problem: $\max\{l(i)|0\leq i&lt;|A|\}$</li>
<li><strong>T</strong>ime: $O(|A|)\times O(|A|)=O(|A|^2)$</li>
</ul>
<p>Related problem: <a href="https://leetcode.com/problems/longest-increasing-subsequence/">LeetCode 300</a></p>
<details><summary>Solution</summary>
<script src="https://gist.github.com/fang-ling/8e8887c3c7911c32c6812326e96215ac.js"></script>
</details>

</div>
<div class='purplebox foot-box'>
<i>
Last updated March 18, 2023 by 
<a href='index.html'>
Fang Ling
</a>
.
</i>
</div>
<br>
<div class='footer'>
Made with ♡
<a href='index.html'>
by Fang Ling
</a>
<a href='https://github.com/fang-ling/zyy'>
zyy v0.0.4-beta
</a>
<span>
Build: 105
</span>
<p class='copyright'>
© 2018-2023 Fang Ling
</p>
</div>
</body>
</html>
